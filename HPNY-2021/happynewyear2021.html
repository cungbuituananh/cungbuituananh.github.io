<html>
<body style="
background-image: url(https://thumbs.dreamstime.com/b/firework-seamless-vector-pattern-gold-foil-isolated-metallic-shiny-fireworks-black-background-bright-decoration-christmas-card-133405522.jpg
);
background-size: auto;
    display:flex;
    align-items: center;
    justify-content: center;
">

<img id="img" src="img/hpny.png" alt="" style="
    width: 350px;
    border-radius: 50%;">

</body>
</html>
<script>
    audio = new Audio();
    audio.src = "HappyNewYear-ABBA-1595921.mp3" ;
    analyser = null;

    document.onclick = () => {
        context = new AudioContext();
        analyser = context.createAnalyser();
        context.createMediaElementSource(audio).connect(analyser);
        analyser.connect(context.destination)
        audio.play()
        loop() 
    }
    function loop() {
        window.requestAnimationFrame(loop)
        fbc = new Uint8Array(analyser.frequencyBinCount);
        analyser.getByteFrequencyData(fbc)

        avg = fbc.reduce((a,b) => a + b, 0) / fbc.length;
        document.getElementById("img").style.width = avg * 5;
        document.body.style.backgroundColor = "rbg("+avg+","+avg+","+avg+")"
    }
</script>